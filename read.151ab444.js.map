{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-a07fbcafe6dd12c9.js","node_modules/@parcel/runtime-js/lib/runtime-9c96720da5f08d59.js","src/js/already-read.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"kA5Rt\\\":\\\"read.151ab444.js\\\",\\\"4BzQQ\\\":\\\"symbol-defs.0ab6b783.svg\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('kA5Rt') + require('./helpers/bundle-manifest').resolve(\"4BzQQ\");","import {up} from '../img/symbol-defs.svg#icon-Vector-up'\nimport {down} from '../img/symbol-defs.svg#icon-down'\n\nlet today = new Date();\nconst date =\n  today.getDate() < 10\n    ? today.getDate().toString().padStart(2, 0)\n    : today.getDate();\nconst month =\n  today.getMonth() < 10\n    ? (today.getMonth() + 1).toString().padStart(2, 0)\n    : today.getMonth() + 1;\nconst year = today.getFullYear();\nconst dateKey = `${date}/${month}/${year}`;\n\nconst readWrapperEl = document.querySelector('.read-wrapper');\n\nif (localStorage.getItem('read')) {\n  updateMarkup();\n}\n\nreadWrapperEl.addEventListener('click', handleHideBtnClick);\nreadWrapperEl.addEventListener('click', handleReadMoreBtnClick);\n\nfunction createMarkupFromLocal(arr, newsArrDate) {\n  const liMarkup = arr\n    .map(\n      item => ` <li class=\"images\">\n    <img src=\"${item.imgUrl}\" alt=\"\" width=\"288px\" height=\"395px\" />\n    <p class=\"have-read visually-hidden\">Have Read</p>\n    <p>${item.category}</p>\n    <button class=\"img-btn favorite-false\" data-id=\"${item.id}\">Add to favorite</button>\n    <h2 class=\"description-title\">${item.title}</h2>\n    <p>${item.descr}</p>\n    <div class=\"info-more\">\n      <p class=\"date\" data-date=\"${item.dateKey}\">${item.date}</p>\n      <a class=\"read-more-link\" href=\"${item.originUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Read more</a>\n    </div>\n    </li>`\n    )\n    .join('');\n\n  setTimeout(() => {\n    if (!localStorage.getItem('savedNews')) {\n      return;\n    }\n    const favoriteBtn = document.querySelectorAll('.img-btn');\n    favoriteBtn.forEach(item => {\n      if (\n        JSON.parse(localStorage.getItem('savedNews')).find(elem => {\n          return elem.uri === String(item.dataset.id);\n        })\n      ) {\n        item.classList.add('favorite-true');\n        item.classList.remove('favorite-false');\n        item.textContent = 'Remove from favorite';\n      }\n    });\n  }, 500);\n  const markup = `<div class=\"read-list-box\">\n    <div class=\"read-box-inner\">\n    <p class=\"read-date\">${newsArrDate}</p>\n    <button class=\"read-btn\">\n    <svg class=\"roll-down-icon\" width=\"9\" height=\"15\">\n        <use href=\"down\"></use>\n    </svg>\n    <svg class=\"roll-up-icon\" width=\"9\" height=\"15\">\n        <use href=\"up\"></use>\n    </svg>\n    </button></div>\n    <ul class=\"news__list read-list\">${liMarkup}</ul></div>`;\n  readWrapperEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction updateMarkup() {\n  const localKeyArr = JSON.parse(localStorage.getItem('read'));\n    localKeyArr.sort((prev, next) => prev - next).forEach(element => {\n      const date = element;\n      const localArr = JSON.parse(localStorage.getItem(`${element}`));\n      createMarkupFromLocal(localArr, date);\n    });\n}\n\nfunction handleHideBtnClick(e) {\n  if(e.target.classList.contains('read-btn')) {\n    e.target.parentNode.nextElementSibling.classList.toggle('visually-hidden');\n  }\n}\n\nfunction handleReadMoreBtnClick(e) {\n  if (e.target.classList.contains('read-more-link')) {\n    const newsId = e.target.parentNode.parentNode.children[3].dataset.id;\n    e.target.parentNode.parentNode.children[1].classList.remove('visually-hidden');\n    const newsReadingDate = e.target.previousElementSibling.dataset.date;\n    const localArr = JSON.parse(localStorage.getItem(`${newsReadingDate}`));\n    const newsItem = localArr.find(item => item.id === newsId);\n    const indexOfNews = localArr.indexOf(newsItem);\n    localArr.splice(indexOfNews, 1);\n\n    console.log('newsReadingDate', newsReadingDate)\n    console.log('localArr', localArr)\n    console.log('newsItem', newsItem)\n    console.log('indexOfNews', indexOfNews)\n    console.log('localArr after splice', localArr)\n\n    if(localStorage.getItem(`${dateKey}`)) {\n      const fromLocal = JSON.parse(localStorage.getItem(`${dateKey}`))\n      fromLocal.push(newsItem)\n      localStorage.setItem(`${dateKey}`, JSON.stringify(fromLocal));\n      updateMarkup()\n    } else {\n      localStorage.setItem(`${dateKey}`, JSON.stringify(newsItem));\n      const fromLocal = JSON.parse(localStorage.getItem(`${dateKey}`))\n      updateMarkup()\n    }\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","getBundleURL","resolve","$af76a82433480073$var$today","Date","$af76a82433480073$var$date","getDate","toString","padStart","$af76a82433480073$var$month","getMonth","$af76a82433480073$var$year","getFullYear","$af76a82433480073$var$dateKey","concat","$af76a82433480073$var$readWrapperEl","document","querySelector","$af76a82433480073$var$updateMarkup","localStorage","getItem","sort","prev","next","forEach","element","date1","arr","newsArrDate","liMarkup","map","item","imgUrl","category","title","descr","dateKey","date","originUrl","join","setTimeout","querySelectorAll","find","elem","uri","String","dataset","classList","add","remove","textContent","markup","insertAdjacentHTML","$af76a82433480073$var$createMarkupFromLocal","addEventListener","e","target","contains","parentNode","nextElementSibling","toggle","newsId","children","newsReadingDate","previousElementSibling","localArr","newsItem","indexOfNews","indexOf","splice","console","log","fromLocal","push","setItem","stringify"],"version":3,"file":"read.151ab444.js.map"}