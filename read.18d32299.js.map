{"mappings":"YAAA,IAAMA,EAAgBC,SAASC,cAAc,iBAGzCC,aAAaC,QAAQ,SACHC,KAAKC,MAAMH,aAAaC,QAAQ,SACxCG,SAAQ,SAAAC,GAClB,IAAMC,EAAOD,GASjB,SAA+BE,EAAKC,GAClC,IAAMC,EAAWF,EACdG,KACC,SAAAC,G,MAAQ,gCACEC,OAD8BD,EAAKE,GAAG,sBAG7CD,OAFOD,EAAKG,OAAO,6GAG0BF,OAD7CD,EAAKI,SAAS,8DAEaH,OADkBD,EAAKE,GAAG,kEAErDD,OAD2BD,EAAKK,MAAM,kBAGvBJ,OAFfD,EAAKM,MAAM,6DAGoBL,OADhBD,EAAKL,KAAK,gDACqBM,OAAfD,EAAKO,UAAU,mF,IAIlDC,KAAK,IAERC,YAAW,WACJpB,aAAaC,QAAQ,cAGNH,SAASuB,iBAAiB,YAClCjB,SAAQ,SAAAO,GAEhBT,KAAKC,MAAMH,aAAaC,QAAQ,OAAOqB,MAAK,SAAAC,GAC1C,OAAOA,IAASC,OAAOb,EAAKc,QAAQZ,G,MAGtCF,EAAKe,UAAUC,IAAI,iBACnBhB,EAAKe,UAAUE,OAAO,kBACtBjB,EAAKkB,YAAc,uB,MAGtB,KACH,IAAMC,EAAS,2FAQYlB,OANFJ,EAAY,0NAMDI,OAATH,EAAS,eACpCZ,EAAckC,mBAAmB,YAAaD,E,CAnD5CE,CADiB9B,KAAKC,MAAMH,aAAaC,QAAQ,GAAWW,OAARP,KACpBC,E,IAIpCT,EAAcoC,iBAAiB,SAkD/B,SAA4BC,GAC1BC,QAAQC,IAAIF,EAAEG,QACVH,EAAEG,OAAOX,UAAUY,SAAS,aAC9BJ,EAAEG,OAAOE,WAAWC,mBAAmBd,UAAUe,OAAO,kB","sources":["src/js/already-read.js"],"sourcesContent":["const readWrapperEl = document.querySelector('.read-wrapper');\nconst keyArr = [];\n\nif (localStorage.getItem('read')) {\n  const localKeyArr = JSON.parse(localStorage.getItem('read'));\n  localKeyArr.forEach(element => {\n    const date = element;\n    const localArr = JSON.parse(localStorage.getItem(`${element}`));\n    createMarkupFromLocal(localArr, date);\n  });\n}\n\nreadWrapperEl.addEventListener('click', handleHideBtnClick);\n// readWrapperEl.addEventListener('click', handleReadMoreBtnClick);\n\nfunction createMarkupFromLocal(arr, newsArrDate) {\n  const liMarkup = arr\n    .map(\n      item => ` <li class=\"images\" data-id=\"${item.id}\">\n    <img src=\"${item.imgUrl}\" alt=\"\" width=\"288px\" height=\"395px\" />\n    <p class=\"have-read visually-hidden\">Have Read</p>\n    <p>${item.category}</p>\n    <button class=\"img-btn favorite-false\" data-id=\"${item.id}\">Add to favorite</button>\n    <h2 class=\"description-title\">${item.title}</h2>\n    <p>${item.descr}</p>\n    <div class=\"info-more\">\n      <p class=\"date\">${item.date}</p>\n      <a class=\"read-more-link\" href=\"${item.originUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Read more</a>\n    </div>\n    </li>`\n    )\n    .join('');\n\n  setTimeout(() => {\n    if (!localStorage.getItem('savedNews')) {\n      return;\n    }\n    const favoriteBtn = document.querySelectorAll('.img-btn');\n    favoriteBtn.forEach(item => {\n      if (\n        JSON.parse(localStorage.getItem('id')).find(elem => {\n          return elem === String(item.dataset.id);\n        })\n      ) {\n        item.classList.add('favorite-true');\n        item.classList.remove('favorite-false');\n        item.textContent = 'Remove from favorite';\n      }\n    });\n  }, 500);\n  const markup = `<div class=\"read-list-box\">\n    <div class=\"read-box-inner\">\n    <p class=\"read-date\">${newsArrDate}</p>\n    <button class=\"read-btn\">\n    <svg class=\"roll-icon\" width=\"9\" height=\"15\">\n        <use href=\"../img/symbol-defs.svg#icon-Vector-up\"></use>\n    </svg>\n    </button></div>\n    <ul class=\"news__list\">${liMarkup}</ul></div>`;\n  readWrapperEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction handleHideBtnClick(e) {\n  console.dir(e.target);\n  if (e.target.classList.contains('read-btn')) {\n    e.target.parentNode.nextElementSibling.classList.toggle('visually-hidden');\n  }\n}\n\n// function handleReadMoreBtnClick(e) {\n//   // if (e.target.nodeName === 'A') {\n//   // }\n\n//   console.dir(e.terget.parentNode);\n// }\n"],"names":["$af76a82433480073$var$readWrapperEl","document","querySelector","localStorage","getItem","JSON","parse","forEach","element","date","arr","newsArrDate","liMarkup","map","item","concat","id","imgUrl","category","title","descr","originUrl","join","setTimeout","querySelectorAll","find","elem","String","dataset","classList","add","remove","textContent","markup","insertAdjacentHTML","$af76a82433480073$var$createMarkupFromLocal","addEventListener","e","console","dir","target","contains","parentNode","nextElementSibling","toggle"],"version":3,"file":"read.18d32299.js.map"}